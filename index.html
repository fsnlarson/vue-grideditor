<!DOCTYPE html>
<html>
<head>
	<title>Grid Editor</title>
	<link rel="stylesheet" href="bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="grid.css" />
	<script type="text/javascript" src="vue.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js"></script> -->
</head>
<body>
<div class="wrapper">
<section id="gridtable" class="container gridtable">
	<header class="row">
			<div class="col-sm-12 datacell"><div class="datainput">
			<input class="new-row"
				autofocus autocomplete="off"
				placeholder="Name"
				v-model="newRow"
				@keyup.enter="addRow"
				/>
			</div></div>
	</header>
	<datarows v-model="rows" :cols="cols"></datarows>
	<hr/>
	<h3>Old System</h3>
	<hr/>
<!--
	<div v-for="row in rows" class="row">
		<datacell v-model="row.name" cellname="name" cellclass="col-sm-3"></datacell>
		<datacell v-model="row.knownfor" cellname="knownfor" cellclass="col-sm-4"></datacell>
		<datacell v-model="row.year" cellname="year" cellclass="col-sm-1"></datacell>
		<datacell v-model="row.degree" cellname="degree" cellclass="col-sm-2"></datacell>
		<datacell v-model="row.specialization" cellname="specialization" cellclass="col-sm-2"></datacell>
	</div>
 -->
	<!--
	<div class="col-sm-1 datacell">
			<div class="datatext" v-text="row.id"></div>
	</div>
	-->

	<footer class="row">
		<div class="col-sm-3"><div class="datatext">Total: <strong>{{ totalrows }}</strong> {{ totalrows | pluralize }}</div></div>
		<div class="col-sm-9"><div class="datatext">
			<button class="pull-right btn btn-xs " @click="removeAll" v-show="totalrows">
				Clear all
			</button>
		</div></div>
	</footer>
<section>
	<pre>{{ $data }}</pre>
</section>
</section>
</div>
<div></div>
<template id="datarows-template">
	<div>
		<div v-for="(row,rowIndex) in value" class="row">
			<datacell v-for="(c,colIndex) in cols"
				v-model="row[c.m]"
				:cellname="c.m"
				:cellwidth="c.w"
				:noneditable="c.noedit"
				:cellindex="rowIndex+','+colIndex"
			></datacell>
		</div>
	</div>
</template>

<template id="datacell-template">
<div :class="[cellClass,'datacell',{'editing':editing},{'cursor':cursor}]">
	<div class="datatext"
			v-text="value"
			@click="moveCursor"
			@dblclick="editCell(celldata,$event)"
	></div>
	<div class="dataedit" v-if="editableCell && editing">
		<input type="text"
			:value="value"
			:name="cellname"
			v-cell-focus="editme"
			@blur="doneEdit($event.target.value,$event)"
			@keyup.enter="doneEdit($event.target.value,$event)"
			@keyup.esc="cancelEdit($event.target.value,$event)"
		 />
	</div>
</div>
</template>
			<!-- @keyup.enter="editCell(celldata,cellname)" -->
<script type="text/javascript" src="grid.js"></script>
</body>
</html>